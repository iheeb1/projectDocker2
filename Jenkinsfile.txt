pipeline {
    agent any
    
    environment {
        PYTHON_VERSION = '3.8'  
    }

    stages { 
    

 stage('Build') {
       
         sh "docker-compose build"
   }
   stage("Test"){
        sh "py unittests.py"
        post {
                always {junit 'test-reports/*.xml'}
            }
    }

    stage("Run"){
        steps{
            sh "docker-compose up "
        }
    }
       
}
}